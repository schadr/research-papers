% !TEX root = thesis-journal.tex
\section{Socio-Technical Congruence and Failure}
\label{chap:stc-net2}
Knowing that social networks have an effect on build success opens the next question as to how or more precisely which parts of the social network should be changed to increase the likelihood for a build to succeed.
For this reason we turn to the concept of socio-technical congruence as it postulates that developers should communicate once their work intersects.
Thus in this section we explore the effect of socio-technical networks on build success:

\begin{itemize}
  \item\textbf{RQ 1.2:} Does Socio-Technical Networks influence build success?
\end{itemize}

Although socio-technical congruence has only been studied in connection with productivity intuitively there should be a connection to software quality such as build success.
For example, imagine two developer modifying classes that share call and data dependencies and one developer making changes that violate certain assumptions the other developer relies on when using the modified code.
This might introduce an error that could have been prevented if both developer would have discussed their work.
Thus, we hypothesize that the concept of socio-technical congruence relates to software quality as well as productivity and might be used to point developers towards improvements in the social network by pointing out developers that should communicate.




\begin{table}[t]
\begin{center}
%\small
\begin{tabular}{l@{\hspace{0pt}}r@{\hspace{10pt}}r@{\hspace{5pt}}r}
\toprule
Variable & Coef. & S.E. & \emph{p} \\
	\midrule
Intercept                   &  -0.5459 &   0.4663 & 0.2417 \\
\textbf{Congruence}              &   \textbf{6.3410} &   \textbf{1.6262} & \textbf{**0.0001} \\
\textbf{Authors}                     &  \textbf{-1.9759} &   \textbf{0.5310} & \textbf{**0.0002}  \\
\textbf{Files}                       &  \textbf{-1.0734} &   \textbf{0.4561} & \textbf{*0.0186}  \\
Work~items                   &  -0.1456 &   0.2355 & 0.5363  \\
\textbf{Build type=I}                      &   \textbf{2.1533} &   \textbf{1.0526} & \textbf{*0.0408}  \\
Build type=N                      &   4.6833 & 200.7587 & 0.9814  \\
Build date                   &  -0.6560 &   0.6709 & 0.3282  \\
\textbf{Congruence * Build type=I}     &  \textbf{-9.2151} &   \textbf{2.5572} & \textbf{**0.0003}  \\
Congruence * Build type=N     &  -7.7308 &  91.8053 & 0.9329  \\
\textbf{Congruence * Build date}  &  \textbf{-5.1266} &   \textbf{1.9290} & \textbf{**0.0079}  \\
Authors $\cdot$ Build type=I            &   1.2688 &   0.7028 & 0.0710  \\
Authors * Build type=N            & 105.4123 & 535.8792 & 0.8441  \\
Authors * Build date         &  -0.6061 &   0.3616 & 0.0937 \\
Authors * Files             &   0.7663 &   0.4289 & 0.0740  \\
Files * Build type=I              &   1.0920 &   1.1838 & 0.3563  \\
Files * Build type=N              & -37.9274 & 199.2314 & 0.8490  \\
\textbf{Work~items * Build date}       &   \textbf{0.8040} &   \textbf{0.3003} & \textbf{**0.0074}  \\
\textbf{Build type=I * Build date}          &   \textbf{2.6442} &   \textbf{0.7678} & \textbf{*0.0006} \\
Build type=N * Build date          &  84.7252 & 344.8129 & 0.8059  \\
	\bottomrule
Model likelihood ratio & 101.92 &  & $R^2=0.581$  \\
\multicolumn{1}{l}{\scriptsize{*$p < 0.05$; **$p < 0.01$}}& \multicolumn{3}{c}{\hspace{-5pt}191 observations}  \\
%\multicolumn{1}{l}{ } & \multicolumn{3}{l}{\tiny{Build type is set to continuous}} \\
%\multicolumn{1}{l}{\scriptsize{*$p < 0.05$; **$p < 0.01$}} & \multicolumn{3}{l}{\tiny{Nagelkerke is used as the pseudo-$R^2$ measure}}
\end{tabular}
\end{center}
\caption{Logistic Regression models predicting build success probability with main and interaction effects}
\label{tab:logr}
\end{table}

\subsection{Calculating Congruence}
\label{sec:congruence}
In Section~\ref{chap:meth} we described socio-technical networks and how we conceptualize them.
If we reformulate this network into the terms originally used by Cataldo et al~\cite{cataldo:cscw:2006} the matrix representation of the technical dependencies among software developers turns into the coordination needs matrix $CN$ and the social network in matrix representation is the actual coordination matrix $AC$.
Thus we calculate the socio-technical congruence index by deciding the cardinality of $AC$ without $CN$ by the cardinality of  $CN$.



\subsection{Analysis Methods}
\label{sec:methodology}
Logistic regression is ideal to test the relationship between multiple variables and a binary outcome, which in our study is a build result being either ``OK'' or ``Error''. The presence of many data entities in this project means that we must consider confounding variables in addition to the socio-technical congruence when determining its effects on the probability of build success. Informally, logistic regression identifies the amount of ``influence'' that a variable has in the probability that a build will be successful.
The two main variables we are interested in are as aforementioned the socio-techincal congruence index as well as the ratio between gaps and coordination needs, that is technical dependencies among developers that are not accompanies by a corresponding social dependency.


\subsection{Results}
\label{sec:results}
In the RTC repository, we analyzed 191 builds; of these builds, 60 were error builds, and 131 were OK builds.
The congruence values are low on average with a mean value of 0.331 meaning that about one-third of the coordination needs are satisfied by actual coordination.

To assess the fit of the logistic regression models, we use the Nagelkerke pseudo-$R^2$ and AIC. $R^2$ shows the proportion of variability explained by the model, and AIC is a measure of how well the model fits the data. Ideally, $R^2$ is high and AIC is low. Our current model contains 19 variables and has an $R^2$ of 0.581. 
We found that 19 variables is optimal and that removing further variables lowered the $R^2$ value while raising the AIC.


\begin{table}[t]
\begin{center}
\begin{tabular}{lrr}
  \toprule
 & Model\\ 
  \midrule
Intercept & 1.32 \\ 
  Authors &  0.60 \\ 
  Files &  0.63 \\ 
  Work~items  & 0.85 \\ 
  Build type=I  & 1.31 \\ 
  Gap ratio  & 8.71 \\ 
  Build date  & 0.59 \\ 
  Authors * Build date & 0.74 \\ 
  Work~items * Build date  & 1.83 \\ 
  Build type=I * Build date  & 2.52 \\ 
   \bottomrule
\end{tabular}
\caption{Odds Ratio for Gap Ratio Models}
\label{tab:oddsratio_gapsize}
\end{center}
\end{table}

\subsubsection{Effects of interactions involving congruence}
\label{sec:congruenceinteractions}
The type~$\times$~congruence interaction effect, the date~$\times$~congruence interaction, and the type $\times$ date effect are each significant in our model (Table \ref{tab:logr}). 
%
The congruence model (Table \ref{tab:logr}) the effect of congruence on continuous builds is significant, and that increasing congruence also increases the probability that a continuous build will succeed. 
%For integration builds (Figures \ref{fig:unweighted_congruence_typeci_age}, in black), an increase in congruence decreases build success, with the exception of the 2008-01-25 build (Figure \ref{subfig:prob_unweighted_age_typeci_q010}). 
%In in our 2008-01-25 build, we see that low congruence leads to low build probability, but high congruence has high build probability. As the project ages, this trend reverses and congruence is clearly inversely related with build success probability (Figure \ref{subfig:prob_unweighted_age_typeci_q100}).
%The effect of congruence is totally opposite for continuous builds and integration builds. Based on Figure \ref{subfig:prob_unweighted_age_typeci_q100}, increasing congruence significantly improves the continuous build success rate. However, increasing congruence significantly decreases the integration build success rate.


%\subsubsection{Effect of Gap Ratio on Build Result}
%\label{sec:gapsizeresult}
%We build a logistic regression model based on the model in Table \ref{tab:logr} using the gap ratio measurement (percentage of unmet coordination needs). In the interest of saving space, we report only the odds ratio. We retain every significant interaction from our previous congruence logistic regression in Table \ref{tab:logr}.
%
%The effect of gap ratio on build result is significant (see Table~\ref{tab:oddsratio_gapsize}). This indicates that increasing the gaps ratio significantly increases the odds that an OK build will occur, which is the opposite of what we hypothesized. This means that if the gap is large, the build success probability increases.




\subsubsection{Social and Technical Factors in RTC Affecting Build Success and Congruence}
\label{sec:otherfactors}
In light of our results, we examine not only the number of work~items~$\times$~date significant interaction, but different social and technical factors that may affect congruence
and build success probability to find explanations for the interactions between socio-technical congruence and build success probability in RTC.
Specifically, we examine the effect of build date on work items, coordination around fully-congruent builds and
incongruent builds, and the effects of commenting behaviour on builds.


